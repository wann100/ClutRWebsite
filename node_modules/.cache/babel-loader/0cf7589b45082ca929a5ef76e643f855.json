{"remainingRequest":"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/babel-loader/lib/index.js!/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/eslint-loader/index.js??ref--13-0!/Users/kognos/Documents/GitHub/ClutRWebsite/actions/ApplicationAction.js","dependencies":[{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/actions/ApplicationAction.js","mtime":1565640052058},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/cache-loader/dist/cjs.js","mtime":1565232945238},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/babel-loader/lib/index.js","mtime":1558705227210},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/eslint-loader/index.js","mtime":1565232944998}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\"; //**\n\n/**\n * This function gets all the current applications\n */\n//\n\nexport function getApplications() {\n  var return_this = [];\n  var userRef = firebase.database().ref(\"/applications/\");\n  userRef.on(\"value\", function (snapshot) {\n    //  console.log(\"hi\");\n    snapshot.forEach(function (childSnapshot) {\n      //   console.log(childSnapshot.key);\n      var objecttoreturn = {\n        applicationinfo: childSnapshot.val().applicationDetails,\n        Idurl: downloadApplicationImages(childSnapshot.key)\n      }; // console.log(objecttoreturn);\n\n      return_this.push(objecttoreturn);\n    });\n  });\n  return return_this;\n}\n/**\n * Dowload application uploaded id's\n * @param {*} application_id \n * @param {*} user_id \n */\n\nexport function downloadApplicationImages(user_id) {\n  var return_this = [];\n  var Frontref = firebase.storage().ref(\"applications/\".concat(user_id)).child(\"front_id\");\n  var Backref = firebase.storage().ref(\"applications/\".concat(user_id)).child(\"back_id\");\n  Frontref.getDownloadURL().then(function (url) {\n    return_this.push(url);\n  });\n  Backref.getDownloadURL().then(function (url) {\n    return_this.push(url);\n  });\n  return return_this;\n}",{"version":3,"sources":["/Users/kognos/Documents/GitHub/ClutRWebsite/actions/ApplicationAction.js"],"names":["firebase","getApplications","return_this","userRef","database","ref","on","snapshot","forEach","childSnapshot","objecttoreturn","applicationinfo","val","applicationDetails","Idurl","downloadApplicationImages","key","push","user_id","Frontref","storage","child","Backref","getDownloadURL","then","url"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,kBAAP,C,CACA;;AACA;;;AAGA;;AACA,OAAO,SAASC,eAAT,GAA0B;AAC7B,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAIC,OAAO,GAAGH,QAAQ,CAACI,QAAT,GAAoBC,GAApB,CAAwB,gBAAxB,CAAd;AACAF,EAAAA,OAAO,CAACG,EAAR,CAAW,OAAX,EAAoB,UAAAC,QAAQ,EAAI;AAC9B;AAEAA,IAAAA,QAAQ,CAACC,OAAT,CAAiB,UAAAC,aAAa,EAAI;AAC/B;AACC,UAAIC,cAAc,GAAC;AAACC,QAAAA,eAAe,EAACF,aAAa,CAACG,GAAd,GAAoBC,kBAArC;AAAwDC,QAAAA,KAAK,EAACC,yBAAyB,CAACN,aAAa,CAACO,GAAf;AAAvF,OAAnB,CAF8B,CAGhC;;AACEd,MAAAA,WAAW,CAACe,IAAZ,CAAiBP,cAAjB;AACH,KALD;AAMD,GATD;AAWA,SAAOR,WAAP;AACD;AAEH;;;;;;AAKA,OAAO,SAASa,yBAAT,CAAmCG,OAAnC,EAA2C;AAC9C,MAAIhB,WAAW,GAAG,EAAlB;AACA,MAAMiB,QAAQ,GAAGnB,QAAQ,CAACoB,OAAT,GAAmBf,GAAnB,wBAAuCa,OAAvC,GAAkDG,KAAlD,CAAwD,UAAxD,CAAjB;AACA,MAAMC,OAAO,GAAGtB,QAAQ,CAACoB,OAAT,GAAmBf,GAAnB,wBAAuCa,OAAvC,GAAkDG,KAAlD,CAAwD,SAAxD,CAAhB;AACAF,EAAAA,QAAQ,CAACI,cAAT,GAA0BC,IAA1B,CAA+B,UAACC,GAAD,EAAO;AAACvB,IAAAA,WAAW,CAACe,IAAZ,CAAiBQ,GAAjB;AAAsB,GAA7D;AACAH,EAAAA,OAAO,CAACC,cAAR,GAAyBC,IAAzB,CAA8B,UAACC,GAAD,EAAO;AAACvB,IAAAA,WAAW,CAACe,IAAZ,CAAiBQ,GAAjB;AAAsB,GAA5D;AACA,SAAOvB,WAAP;AACC","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/storage\";\n//**\n/**\n * This function gets all the current applications\n */\n//\nexport function getApplications(){\n    var return_this = [];\n    var userRef = firebase.database().ref(\"/applications/\");\n    userRef.on(\"value\", snapshot => {\n      //  console.log(\"hi\");\n      \n      snapshot.forEach(childSnapshot => {\n         //   console.log(childSnapshot.key);\n          var objecttoreturn={applicationinfo:childSnapshot.val().applicationDetails,Idurl:downloadApplicationImages(childSnapshot.key)};\n        // console.log(objecttoreturn);\n          return_this.push(objecttoreturn);\n      });\n    });\n  \n    return return_this;\n  }\n\n/**\n * Dowload application uploaded id's\n * @param {*} application_id \n * @param {*} user_id \n */\nexport function downloadApplicationImages(user_id){\n    var return_this = [];\n    const Frontref = firebase.storage().ref(`applications/${user_id}`).child(\"front_id\");\n    const Backref = firebase.storage().ref(`applications/${user_id}`).child(\"back_id\");\n    Frontref.getDownloadURL().then((url)=>{return_this.push(url)} )\n    Backref.getDownloadURL().then((url)=>{return_this.push(url)} )\n    return return_this;\n    }"]}]}