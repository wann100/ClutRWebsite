{"remainingRequest":"/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/node_modules/babel-loader/lib/index.js!/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/src/admin/pages/settings/NavBuilder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/src/admin/pages/settings/NavBuilder.vue","mtime":1565240946489},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/node_modules/cache-loader/dist/cjs.js","mtime":1565232945238},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/node_modules/babel-loader/lib/index.js","mtime":1558705227210},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/node_modules/cache-loader/dist/cjs.js","mtime":1565232945238},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/node_modules/vue-loader/lib/index.js","mtime":1565232945777}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/kognos/Documents/GitHub/ClutRWebsite/tamiat/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.string.link\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.string.starts-with\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { settingsRef, navRef } from '@/admin/firebase_config';\nexport default {\n  data: function data() {\n    return {\n      key: '',\n      link: '',\n      // {'.key', name, path}\n      name: '',\n      path: '',\n      action: 'new'\n    };\n  },\n  computed: {\n    isAbsolute: function isAbsolute() {\n      return this.path.startsWith('http');\n    }\n  },\n  firebase: {\n    settings: {\n      source: settingsRef,\n      asObject: true\n    },\n    menu: {\n      source: navRef\n    }\n  },\n  methods: {\n    addLink: function addLink() {\n      if (this.name && this.path) {\n        this.$firebaseRefs.menu.push({\n          name: this.name,\n          path: this.path,\n          isAbsolute: this.isAbsolute\n        });\n      }\n\n      this.clear();\n    },\n    editLink: function editLink(link) {\n      this.name = link.name;\n      this.path = link.path;\n      this.action = 'edit';\n      this.key = link['.key'];\n      this.link = Object.assign({}, link);\n    },\n    updateLink: function updateLink() {\n      delete this.link['.key'];\n      this.link.name = this.name;\n      this.link.path = this.path;\n      this.link.isAbsolute = this.isAbsolute;\n      this.$firebaseRefs.menu.child(this.key).set(this.link);\n      this.clear();\n    },\n    removeLink: function removeLink(item) {\n      this.$firebaseRefs.menu.child(item['.key']).remove();\n    },\n    clear: function clear() {\n      this.name = '';\n      this.path = '';\n      this.action = 'new';\n    },\n    moveLinkUp: function moveLinkUp(item, previousItem) {\n      var itemCopy = Object.assign({}, item);\n      var previousItemCopy = Object.assign({}, previousItem);\n      delete itemCopy['.key'];\n      delete previousItemCopy['.key'];\n      this.$firebaseRefs.menu.child(item['.key']).set(previousItemCopy);\n      this.$firebaseRefs.menu.child(previousItem['.key']).set(itemCopy);\n    },\n    moveLinkDown: function moveLinkDown(item, nextItem) {\n      var itemCopy = Object.assign({}, item);\n      var nextItemCopy = Object.assign({}, nextItem);\n      delete itemCopy['.key'];\n      delete nextItemCopy['.key'];\n      this.$firebaseRefs.menu.child(item['.key']).set(nextItemCopy);\n      this.$firebaseRefs.menu.child(nextItem['.key']).set(itemCopy);\n    },\n    addSubLink: function addSubLink(link) {\n      this.action = 'new-sub';\n      this.key = link['.key'];\n    },\n    appendSubLink: function appendSubLink() {\n      this.$firebaseRefs.menu.child(this.key).child('children').push({\n        name: this.name,\n        path: this.path,\n        isAbsolute: this.isAbsolute\n      });\n      this.clear();\n    },\n    moveSubLinkUp: function moveSubLinkUp(currentKey, parent) {\n      var childrenObject = {};\n      var childrenArray = this.convertFirebaseObjToArray(parent.children);\n      var previousKey = '';\n\n      for (var i = 0; i < childrenArray.length; i++) {\n        if (childrenArray[i]['.key'] === currentKey) {\n          previousKey = childrenArray[i - 1]['.key'];\n          childrenObject[previousKey] = _objectSpread({}, childrenArray[i]);\n          childrenObject[currentKey] = _objectSpread({}, childrenArray[i - 1]);\n          delete childrenObject[previousKey]['.key'];\n          delete childrenObject[currentKey]['.key'];\n        } else {\n          childrenObject[childrenArray[i]['.key']] = _objectSpread({}, childrenArray[i]);\n          delete childrenObject[childrenArray[i]['.key']]['.key'];\n        }\n      }\n\n      this.$firebaseRefs.menu.child(parent['.key']).child('children').set(childrenObject);\n    },\n    moveSubLinkDown: function moveSubLinkDown(currentKey, parent) {\n      var childrenObject = {};\n      var childrenArray = this.convertFirebaseObjToArray(parent.children);\n      var nextKey = '';\n\n      for (var i = childrenArray.length - 1; i >= 0; i--) {\n        if (childrenArray[i]['.key'] === currentKey) {\n          nextKey = childrenArray[i + 1]['.key'];\n          childrenObject[nextKey] = _objectSpread({}, childrenArray[i]);\n          childrenObject[currentKey] = _objectSpread({}, childrenArray[i + 1]);\n          delete childrenObject[nextKey]['.key'];\n          delete childrenObject[currentKey]['.key'];\n        } else {\n          childrenObject[childrenArray[i]['.key']] = _objectSpread({}, childrenArray[i]);\n          delete childrenObject[childrenArray[i]['.key']]['.key'];\n        }\n      }\n\n      this.$firebaseRefs.menu.child(parent['.key']).child('children').set(childrenObject);\n    },\n    convertFirebaseObjToArray: function convertFirebaseObjToArray(obj) {\n      var array = [];\n\n      for (var key in obj) {\n        array.push(_objectSpread({\n          '.key': key\n        }, obj[key]));\n      }\n\n      return array;\n    },\n    removeSubLink: function removeSubLink(key, parent) {\n      this.$firebaseRefs.menu.child(parent['.key']).child('children').child(key).remove();\n    },\n    editSubLink: function editSubLink(key, parent) {\n      this.name = parent.children[key].name;\n      this.path = parent.children[key].path;\n      this.action = 'edit-sub';\n      this.key = key;\n      this.link = Object.assign({}, parent);\n    },\n    updateSubLink: function updateSubLink() {\n      this.$firebaseRefs.menu.child(this.link['.key']).child('children').child(this.key).update({\n        name: this.name,\n        path: this.path,\n        isAbsolute: this.isAbsolute\n      });\n    }\n  }\n};",{"version":3,"sources":["NavBuilder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA,SAAA,WAAA,EAAA,MAAA,QAAA,yBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAEA;AACA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,IAAA,CAAA,UAAA,CAAA,MAAA,CAAA;AACA;AAHA,GAVA;AAeA,EAAA,QAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,MAAA,EAAA,WADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,MAAA,EAAA;AADA;AALA,GAfA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,KAAA,IAAA,IAAA,KAAA,IAAA,EAAA;AACA,aAAA,aAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,IADA;AAEA,UAAA,IAAA,EAAA,KAAA,IAFA;AAGA,UAAA,UAAA,EAAA,KAAA;AAHA,SAAA;AAKA;;AACA,WAAA,KAAA;AACA,KAVA;AAWA,IAAA,QAXA,oBAWA,IAXA,EAWA;AACA,WAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,WAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,WAAA,MAAA,GAAA,MAAA;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,MAAA,CAAA;AACA,WAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,IAAA,CAAA;AACA,KAjBA;AAkBA,IAAA,UAlBA,wBAkBA;AACA,aAAA,KAAA,IAAA,CAAA,MAAA,CAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,KAAA,IAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,KAAA,IAAA;AACA,WAAA,IAAA,CAAA,UAAA,GAAA,KAAA,UAAA;AAEA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,GAAA,EAAA,GAAA,CAAA,KAAA,IAAA;AACA,WAAA,KAAA;AACA,KA1BA;AA2BA,IAAA,UA3BA,sBA2BA,IA3BA,EA2BA;AACA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,EAAA,MAAA;AACA,KA7BA;AA8BA,IAAA,KA9BA,mBA8BA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,KAlCA;AAmCA,IAAA,UAnCA,sBAmCA,IAnCA,EAmCA,YAnCA,EAmCA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,IAAA,CAAA;AACA,UAAA,gBAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,YAAA,CAAA;AAEA,aAAA,QAAA,CAAA,MAAA,CAAA;AACA,aAAA,gBAAA,CAAA,MAAA,CAAA;AAEA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,EAAA,GAAA,CAAA,gBAAA;AACA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,MAAA,CAAA,EAAA,GAAA,CAAA,QAAA;AACA,KA5CA;AA6CA,IAAA,YA7CA,wBA6CA,IA7CA,EA6CA,QA7CA,EA6CA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,IAAA,CAAA;AACA,UAAA,YAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,QAAA,CAAA;AAEA,aAAA,QAAA,CAAA,MAAA,CAAA;AACA,aAAA,YAAA,CAAA,MAAA,CAAA;AAEA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,EAAA,GAAA,CAAA,YAAA;AACA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,EAAA,GAAA,CAAA,QAAA;AACA,KAtDA;AAuDA,IAAA,UAvDA,sBAuDA,IAvDA,EAuDA;AACA,WAAA,MAAA,GAAA,SAAA;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,MAAA,CAAA;AACA,KA1DA;AA2DA,IAAA,aA3DA,2BA2DA;AACA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,GAAA,EAAA,KAAA,CAAA,UAAA,EAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,KAAA,IADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAFA;AAGA,QAAA,UAAA,EAAA,KAAA;AAHA,OAAA;AAKA,WAAA,KAAA;AACA,KAlEA;AAmEA,IAAA,aAnEA,yBAmEA,UAnEA,EAmEA,MAnEA,EAmEA;AACA,UAAA,cAAA,GAAA,EAAA;AACA,UAAA,aAAA,GAAA,KAAA,yBAAA,CAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,WAAA,GAAA,EAAA;;AAEA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,aAAA,CAAA,CAAA,CAAA,CAAA,MAAA,MAAA,UAAA,EAAA;AACA,UAAA,WAAA,GAAA,aAAA,CAAA,CAAA,GAAA,CAAA,CAAA,CAAA,MAAA,CAAA;AAEA,UAAA,cAAA,CAAA,WAAA,CAAA,qBAAA,aAAA,CAAA,CAAA,CAAA;AACA,UAAA,cAAA,CAAA,UAAA,CAAA,qBAAA,aAAA,CAAA,CAAA,GAAA,CAAA,CAAA;AAEA,iBAAA,cAAA,CAAA,WAAA,CAAA,CAAA,MAAA,CAAA;AACA,iBAAA,cAAA,CAAA,UAAA,CAAA,CAAA,MAAA,CAAA;AACA,SARA,MAQA;AACA,UAAA,cAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,CAAA,qBAAA,aAAA,CAAA,CAAA,CAAA;AACA,iBAAA,cAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,CAAA,CAAA,MAAA,CAAA;AACA;AACA;;AAEA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,UAAA,EAAA,GAAA,CAAA,cAAA;AACA,KAxFA;AAyFA,IAAA,eAzFA,2BAyFA,UAzFA,EAyFA,MAzFA,EAyFA;AACA,UAAA,cAAA,GAAA,EAAA;AACA,UAAA,aAAA,GAAA,KAAA,yBAAA,CAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,GAAA,EAAA;;AAEA,WAAA,IAAA,CAAA,GAAA,aAAA,CAAA,MAAA,GAAA,CAAA,EAAA,CAAA,IAAA,CAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,aAAA,CAAA,CAAA,CAAA,CAAA,MAAA,MAAA,UAAA,EAAA;AACA,UAAA,OAAA,GAAA,aAAA,CAAA,CAAA,GAAA,CAAA,CAAA,CAAA,MAAA,CAAA;AAEA,UAAA,cAAA,CAAA,OAAA,CAAA,qBAAA,aAAA,CAAA,CAAA,CAAA;AACA,UAAA,cAAA,CAAA,UAAA,CAAA,qBAAA,aAAA,CAAA,CAAA,GAAA,CAAA,CAAA;AAEA,iBAAA,cAAA,CAAA,OAAA,CAAA,CAAA,MAAA,CAAA;AACA,iBAAA,cAAA,CAAA,UAAA,CAAA,CAAA,MAAA,CAAA;AACA,SARA,MAQA;AACA,UAAA,cAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,CAAA,qBAAA,aAAA,CAAA,CAAA,CAAA;AACA,iBAAA,cAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,CAAA,CAAA,MAAA,CAAA;AACA;AACA;;AAEA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,UAAA,EAAA,GAAA,CAAA,cAAA;AACA,KA9GA;AA+GA,IAAA,yBA/GA,qCA+GA,GA/GA,EA+GA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,WAAA,IAAA,GAAA,IAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA;AAAA,kBAAA;AAAA,WAAA,GAAA,CAAA,GAAA,CAAA;AACA;;AACA,aAAA,KAAA;AACA,KArHA;AAsHA,IAAA,aAtHA,yBAsHA,GAtHA,EAsHA,MAtHA,EAsHA;AACA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,UAAA,EAAA,KAAA,CAAA,GAAA,EAAA,MAAA;AACA,KAxHA;AAyHA,IAAA,WAzHA,uBAyHA,GAzHA,EAyHA,MAzHA,EAyHA;AACA,WAAA,IAAA,GAAA,MAAA,CAAA,QAAA,CAAA,GAAA,EAAA,IAAA;AACA,WAAA,IAAA,GAAA,MAAA,CAAA,QAAA,CAAA,GAAA,EAAA,IAAA;AACA,WAAA,MAAA,GAAA,UAAA;AACA,WAAA,GAAA,GAAA,GAAA;AACA,WAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA;AACA,KA/HA;AAgIA,IAAA,aAhIA,2BAgIA;AACA,WAAA,aAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,UAAA,EAAA,KAAA,CAAA,KAAA,GAAA,EAAA,MAAA,CAAA;AACA,QAAA,IAAA,EAAA,KAAA,IADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAFA;AAGA,QAAA,UAAA,EAAA,KAAA;AAHA,OAAA;AAKA;AAtIA;AAxBA,CAAA","sourcesContent":["<template>\n  <div class=\"nav-builder\">\n    <!-- navigation menu builder -->\n    <h3 class=\"is-size-3\">Navigation Menu Builder</h3>\n    <div class=\"box\">\n      <div class=\"columns\">\n\n        <!-- link form -->\n        <div class=\"column\">\n          <div class=\"field\">\n            <label class=\"label\">Name</label>\n            <div class=\"control\">\n              <input class=\"input\" type=\"text\" placeholder=\"Name (ex: Posts)\" v-model=\"name\">\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Path</label>\n            <div class=\"control\">\n              <input class=\"input\" type=\"text\" placeholder=\"Path (ex: /admin/posts)\" v-model=\"path\">\n            </div>\n          </div>\n          <div class=\"field is-grouped\">\n            <div class=\"control\">\n              <button v-if=\"action === 'new'\" class=\"button is-info\" @click=\"addLink\">Add</button>\n              <button v-if=\"action === 'edit'\" class=\"button is-info\" @click=\"updateLink\">\n                Update\n              </button>\n              <button v-if=\"action === 'new-sub'\" class=\"button is-info\" @click=\"appendSubLink\">\n                Add sub-link\n              </button>\n              <button v-if=\"action === 'edit-sub'\" class=\"button is-info\" @click=\"updateSubLink\">\n                Edit sub-link\n              </button>\n            </div>\n            <div class=\"control\">\n              <button class=\"button\" @click=\"clear\">Cancel</button>\n            </div>\n          </div>\n        </div>\n\n        <!-- menu visualization -->\n        <div class=\"column\">\n          <p class=\"is-size-4\">menu</p>\n          <ul v-for=\"(item, index) in menu\" :key=\"index\" class=\"nav-preview\">\n            <li>\n              {{item.name}}: {{item.path}}\n\n              <span class=\"link-actions\">\n                <span class=\"has-text-danger fa fa-trash\" @click=\"removeLink(item)\"></span>\n                <span v-if=\"index !== 0\" class=\"has-text-success fa fa-arrow-up\" @click=\"moveLinkUp(item, menu[index - 1])\"></span>\n                <span v-if=\"index !== menu.length - 1\" class=\"fa fa-arrow-down\" @click=\"moveLinkDown(item, menu[index + 1])\"></span>\n                <span class=\"has-text-info fa fa-edit\" @click=\"editLink(item)\"></span>\n                <span class=\"has-text-primary fa fa-plus\" @click=\"addSubLink(item)\"></span>\n              </span>\n\n              <!-- render children links -->\n              <ul v-if=\"item.children\" class=\"sub-nav-preview\">\n                <li v-for=\"(child, key) in item.children\" :key=\"key\">\n                  {{child.name}}: {{child.path}}\n\n                  <span class=\"sub-link-actions\">\n                    <span class=\"has-text-danger fa fa-trash\" @click=\"removeSubLink(key, item)\"></span>\n                    <span class=\"has-text-success fa fa-arrow-up\" @click=\"moveSubLinkUp(key, item)\"></span>\n                    <span class=\"fa fa-arrow-down\" @click=\"moveSubLinkDown(key, item)\"></span>\n                    <span class=\"has-text-info fa fa-edit\" @click=\"editSubLink(key, item)\"></span>\n                  </span>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { settingsRef, navRef } from '@/admin/firebase_config'\nexport default {\n  data () {\n    return {\n      key: '',\n      link: '', // {'.key', name, path}\n      name: '',\n      path: '',\n      action: 'new'\n    }\n  },\n  computed: {\n    isAbsolute () {\n      return this.path.startsWith('http')\n    }\n  },\n  firebase: {\n    settings: {\n      source: settingsRef,\n      asObject: true\n    },\n    menu: {\n      source: navRef\n    }\n  },\n  methods: {\n    addLink () {\n      if (this.name && this.path) {\n        this.$firebaseRefs.menu.push({\n          name: this.name,\n          path: this.path,\n          isAbsolute: this.isAbsolute\n        })\n      }\n      this.clear()\n    },\n    editLink (link) {\n      this.name = link.name\n      this.path = link.path\n      this.action = 'edit'\n      this.key = link['.key']\n      this.link = Object.assign({}, link)\n    },\n    updateLink () {\n      delete this.link['.key']\n      this.link.name = this.name\n      this.link.path = this.path\n      this.link.isAbsolute = this.isAbsolute\n\n      this.$firebaseRefs.menu.child(this.key).set(this.link)\n      this.clear()\n    },\n    removeLink (item) {\n      this.$firebaseRefs.menu.child(item['.key']).remove()\n    },\n    clear () {\n      this.name = ''\n      this.path = ''\n      this.action = 'new'\n    },\n    moveLinkUp (item, previousItem) {\n      let itemCopy = Object.assign({}, item)\n      let previousItemCopy = Object.assign({}, previousItem)\n\n      delete itemCopy['.key']\n      delete previousItemCopy['.key']\n\n      this.$firebaseRefs.menu.child(item['.key']).set(previousItemCopy)\n      this.$firebaseRefs.menu.child(previousItem['.key']).set(itemCopy)\n    },\n    moveLinkDown (item, nextItem) {\n      let itemCopy = Object.assign({}, item)\n      let nextItemCopy = Object.assign({}, nextItem)\n\n      delete itemCopy['.key']\n      delete nextItemCopy['.key']\n\n      this.$firebaseRefs.menu.child(item['.key']).set(nextItemCopy)\n      this.$firebaseRefs.menu.child(nextItem['.key']).set(itemCopy)\n    },\n    addSubLink (link) {\n      this.action = 'new-sub'\n      this.key = link['.key']\n    },\n    appendSubLink () {\n      this.$firebaseRefs.menu.child(this.key).child('children').push({\n        name: this.name,\n        path: this.path,\n        isAbsolute: this.isAbsolute\n      })\n      this.clear()\n    },\n    moveSubLinkUp (currentKey, parent) {\n      let childrenObject = {}\n      let childrenArray = this.convertFirebaseObjToArray(parent.children)\n      let previousKey = ''\n\n      for (let i = 0; i < childrenArray.length; i++) {\n        if (childrenArray[i]['.key'] === currentKey) {\n          previousKey = childrenArray[i - 1]['.key']\n\n          childrenObject[previousKey] = { ...childrenArray[i] }\n          childrenObject[currentKey] = { ...childrenArray[i - 1] }\n\n          delete childrenObject[previousKey]['.key']\n          delete childrenObject[currentKey]['.key']\n        } else {\n          childrenObject[childrenArray[i]['.key']] = { ...childrenArray[i] }\n          delete childrenObject[childrenArray[i]['.key']]['.key']\n        }\n      }\n\n      this.$firebaseRefs.menu.child(parent['.key']).child('children').set(childrenObject)\n    },\n    moveSubLinkDown (currentKey, parent) {\n      let childrenObject = {}\n      let childrenArray = this.convertFirebaseObjToArray(parent.children)\n      let nextKey = ''\n\n      for (let i = childrenArray.length - 1; i >= 0; i--) {\n        if (childrenArray[i]['.key'] === currentKey) {\n          nextKey = childrenArray[i + 1]['.key']\n\n          childrenObject[nextKey] = { ...childrenArray[i] }\n          childrenObject[currentKey] = { ...childrenArray[i + 1] }\n\n          delete childrenObject[nextKey]['.key']\n          delete childrenObject[currentKey]['.key']\n        } else {\n          childrenObject[childrenArray[i]['.key']] = { ...childrenArray[i] }\n          delete childrenObject[childrenArray[i]['.key']]['.key']\n        }\n      }\n\n      this.$firebaseRefs.menu.child(parent['.key']).child('children').set(childrenObject)\n    },\n    convertFirebaseObjToArray (obj) {\n      let array = []\n      for (let key in obj) {\n        array.push({ '.key': key, ...obj[key] })\n      }\n      return array\n    },\n    removeSubLink (key, parent) {\n      this.$firebaseRefs.menu.child(parent['.key']).child('children').child(key).remove()\n    },\n    editSubLink (key, parent) {\n      this.name = parent.children[key].name\n      this.path = parent.children[key].path\n      this.action = 'edit-sub'\n      this.key = key\n      this.link = Object.assign({}, parent)\n    },\n    updateSubLink () {\n      this.$firebaseRefs.menu.child(this.link['.key']).child('children').child(this.key).update({\n        name: this.name,\n        path: this.path,\n        isAbsolute: this.isAbsolute\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.nav-builder {\n  .nav-preview {\n    padding-left: 15px;\n  }\n\n  .sub-nav-preview {\n    padding-left: 30px;\n  }\n\n  .link-actions,\n  .sub-link-actions {\n    display: none;\n    span {\n      cursor: pointer;\n    }\n  }\n\n  .nav-preview > li:hover .link-actions {\n    display: inline;\n  }\n\n  .sub-nav-preview > li:hover .sub-link-actions {\n    display: inline;\n  }\n\n  .sub-nav-preview > li:first-child {\n    .fa-arrow-up {\n      display: none;\n    }\n  }\n\n  .sub-nav-preview > li:last-child {\n    .fa-arrow-down {\n      display: none;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/admin/pages/settings"}]}