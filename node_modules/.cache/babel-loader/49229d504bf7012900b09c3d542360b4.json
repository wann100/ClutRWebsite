{"remainingRequest":"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/babel-loader/lib/index.js!/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/eslint-loader/index.js??ref--13-0!/Users/kognos/Documents/GitHub/ClutRWebsite/src/router/dynamic-routes.js","dependencies":[{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/src/router/dynamic-routes.js","mtime":1565240946504},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/cache-loader/dist/cjs.js","mtime":1565232945238},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/babel-loader/lib/index.js","mtime":1558705227210},{"path":"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/eslint-loader/index.js","mtime":1565232944998}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/kognos/Documents/GitHub/ClutRWebsite/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { routesRef } from '@/admin/firebase_config/index';\nvar dynamicRoutes = {\n  routes: [],\n  getRoutes: function getRoutes() {\n    return new Promise(function (resolve, reject) {\n      routesRef.on('value', function (snapshot) {\n        var routesObj = snapshot.val();\n        var routesArr = [];\n\n        for (var key in routesObj) {\n          routesArr.push({\n            path: routesObj[key]['path'],\n            component: routesObj[key]['template']\n          });\n        }\n\n        resolve([].concat(routesArr));\n      });\n    });\n  },\n  addDynamicComponents: function addDynamicComponents() {\n    this.routes.forEach(function (route) {\n      var template = route.component;\n\n      route.component = function () {\n        return import(\"@/app/templates/\".concat(template, \".vue\"));\n      };\n    });\n  },\n  addDynamicRoutesTo: function () {\n    var _addDynamicRoutesTo = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee(router) {\n      var loadedRoutes;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.getRoutes();\n\n            case 2:\n              loadedRoutes = _context.sent;\n              this.routes = _toConsumableArray(loadedRoutes);\n              this.addDynamicComponents();\n              router.addRoutes(this.routes);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function addDynamicRoutesTo(_x) {\n      return _addDynamicRoutesTo.apply(this, arguments);\n    }\n\n    return addDynamicRoutesTo;\n  }()\n};\nexport default dynamicRoutes;",{"version":3,"sources":["/Users/kognos/Documents/GitHub/ClutRWebsite/src/router/dynamic-routes.js"],"names":["routesRef","dynamicRoutes","routes","getRoutes","Promise","resolve","reject","on","snapshot","routesObj","val","routesArr","key","push","path","component","addDynamicComponents","forEach","route","template","addDynamicRoutesTo","router","loadedRoutes","addRoutes"],"mappings":";;;;AAAA,SAASA,SAAT,QAA0B,+BAA1B;AAEA,IAAIC,aAAa,GAAG;AAClBC,EAAAA,MAAM,EAAE,EADU;AAElBC,EAAAA,SAFkB,uBAEL;AACX,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCN,MAAAA,SAAS,CAACO,EAAV,CAAa,OAAb,EAAsB,UAAAC,QAAQ,EAAI;AAChC,YAAIC,SAAS,GAAGD,QAAQ,CAACE,GAAT,EAAhB;AACA,YAAIC,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAIC,GAAT,IAAgBH,SAAhB,EAA2B;AACzBE,UAAAA,SAAS,CAACE,IAAV,CAAe;AACbC,YAAAA,IAAI,EAAEL,SAAS,CAACG,GAAD,CAAT,CAAe,MAAf,CADO;AAEbG,YAAAA,SAAS,EAAEN,SAAS,CAACG,GAAD,CAAT,CAAe,UAAf;AAFE,WAAf;AAID;;AACDP,QAAAA,OAAO,WAAKM,SAAL,EAAP;AACD,OAVD;AAWD,KAZM,CAAP;AAaD,GAhBiB;AAkBlBK,EAAAA,oBAlBkB,kCAkBM;AACtB,SAAKd,MAAL,CAAYe,OAAZ,CAAoB,UAAAC,KAAK,EAAI;AAC3B,UAAMC,QAAQ,GAAGD,KAAK,CAACH,SAAvB;;AACAG,MAAAA,KAAK,CAACH,SAAN,GAAkB,YAAM;AACtB,eAAO,iCAA0BI,QAA1B,UAAP;AACD,OAFD;AAGD,KALD;AAMD,GAzBiB;AA2BZC,EAAAA,kBA3BY;AAAA;AAAA;AAAA,6CA2BQC,MA3BR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA4BS,KAAKlB,SAAL,EA5BT;;AAAA;AA4BZmB,cAAAA,YA5BY;AA6BhB,mBAAKpB,MAAL,sBAAkBoB,YAAlB;AACA,mBAAKN,oBAAL;AACAK,cAAAA,MAAM,CAACE,SAAP,CAAiB,KAAKrB,MAAtB;;AA/BgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAApB;AAmCA,eAAeD,aAAf","sourcesContent":["import { routesRef } from '@/admin/firebase_config/index'\n\nlet dynamicRoutes = {\n  routes: [],\n  getRoutes () {\n    return new Promise((resolve, reject) => {\n      routesRef.on('value', snapshot => {\n        let routesObj = snapshot.val()\n        let routesArr = []\n        for (let key in routesObj) {\n          routesArr.push({\n            path: routesObj[key]['path'],\n            component: routesObj[key]['template']\n          })\n        }\n        resolve([...routesArr])\n      })\n    })\n  },\n\n  addDynamicComponents () {\n    this.routes.forEach(route => {\n      const template = route.component\n      route.component = () => {\n        return import(`@/app/templates/${template}.vue`)\n      }\n    })\n  },\n\n  async addDynamicRoutesTo (router) {\n    let loadedRoutes = await this.getRoutes()\n    this.routes = [...loadedRoutes]\n    this.addDynamicComponents()\n    router.addRoutes(this.routes)\n  }\n}\n\nexport default dynamicRoutes\n"]}]}